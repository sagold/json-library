var JsonLibrary=function(e){function r(t){if(n[t])return n[t].exports;var i=n[t]={exports:{},id:t,loaded:!1};return e[t].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var n={};return r.m=e,r.c=n,r.p="",r(0)}([function(e,r,n){r.object=n(1),r.pointer=n(2),r.query=n(3).query,r.relation=n(4)},function(e,r){"use strict";function n(e){return Array.isArray(e)?e:"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map(function(r){return e[r]}):[]}function t(e){var r;return r=Array.isArray(e)?e:"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map(function(r){return e[r]}):null!=e?[e]:[]}function i(e){var r;if(Array.isArray(e))r=e.map(function(e,r){return r});else{if("[object Object]"===Object.prototype.toString.call(e))return Object.keys(e);r=[]}return r}function a(e,r){var n=null;return o(e,function(t){r===e[t]&&(n=t)}),n}function o(e,r){var n=Array.isArray(e)?e:Object.keys(e);n.forEach(function(n){r(n,e[n],e)})}function l(e){return JSON.parse(JSON.stringify(e))}r.values=t,r.asArray=n,r.copy=l,r.forEach=o,r.keyOf=a,r.keys=i},function(e,r,n){"use strict";r.get=n(5),r.set=n(6),r.join=n(7)},function(e,r,n){"use strict";r.query=n(8),r.filter=n(9)},function(e,r,n){"use strict";r.load=n(10),r.unload=n(11),r.validate=n(12)},function(e,r,n){"use strict";function t(e,r){if(null==r||null==e)return null;var n=a.stripPointerPrefix(r).split("/");return i(e,n)}function i(e,r){var n=r.shift();return n?e[n]?i(e[n],r):null:e}var a=n(13);e.exports=t},function(e,r,n){"use strict";function t(e,r,n){if(null==r||null==e)return null;for(var t,o=e||{},l=a.stripPointerPrefix(r).split("/");l.length>1;)t=l.shift(),o=i(o,t);return t=l.pop(),o[t]=n,e}function i(e,r){return null==e[r]&&(e[r]={}),e[r]}var a=n(13);e.exports=t},function(e,r,n){"use strict";function t(){var e=Array.prototype.map.call(arguments,function(e){return i(e)});return e="#/"+e.join("/"),e.replace(/\/+/g,"/")}var i=n(13).stripPointerPrefix;e.exports=t},function(e,r,n){"use strict";function t(e,r,n){var t=l.stripPointerPrefix(r).split("/");""==t[0]&&t.shift(),""==t[t.length-1]&&(t.length-=1),a(e,t,n,"#")}function i(e,r,n){return function(t){r(e[t],e,t,f(n,t))}}function a(e,r,n,t){var l,s=r.shift();0===r.length?(l=o.keys(e,s),l.forEach(i(e,n,t))):/^\*\*/.test(s)?a(e,r.slice(0),n,t):(l=o.keys(e,s),l.forEach(function(i){a(e[i],r.slice(0),n,f(t,i))})),/^\*\*/.test(s)&&(r.unshift(s),l=o.keys(e,s),l.forEach(function(i){a(e[i],r.slice(0),n,f(t,i))}))}var o=n(9),l=n(13),f=n(7);e.exports=t},function(e,r,n){"use strict";function t(e,r){return i(e,r).map(function(r){return e[r]})}function i(e,r){if(r){var n=r.split("?",2);if("*"===n[0]||"**"===n[0]){var t=o.keys(e);return t.filter(l.queryKey(e,n[1]))}if(e[n[0]]&&a(e[n[0]],n[1]))return[n[0]]}return[]}function a(e,r){if(!r)return!0;for(var n,t,i,r,a=!0,o=r.replace(/(\&\&)/g,"§$1§").replace(/(\|\|)/g,"§$1§").split("§"),l=!1,s=0,u=o.length;u>s;s+=2)o[s].indexOf(":!")>-1?(i=!1,t=o[s].split(":!")):(i=!0,t=o[s].split(":")),n=t[0],t=t[1],t="undefined"===t?void 0:void 0===f[t]?t:f[t],t=i?t===e[n]:t!==e[n],a=l?a||t:a&&t,l="||"===o[s+1];return a}var o=n(1),l={query:function(e){return function(r){return a(r,e)}},queryKey:function(e,r){return function(n){return a(e[n],r)}}},f={"false":!1,"true":!0,"null":null};r.values=t,r.keys=i,r.valid=a},function(e,r,n){"use strict";function t(e,r){var n,t=l(r,e);if(null==t)throw Error("invalid relationModel\n: "+JSON.stringify(r));switch(n=t.model,t.type){case"has_many:through:alias":o.forEach(t.pivot,function(e,r){i(n[e],t.alias,r,t.relatedModel)});break;case"has_many:foreign_key:alias":o.forEach(n,function(e,r){i(r,t.alias,r[t.foreign_key],t.relatedModel)});break;case"has_many:foreign_key":o.forEach(n,function(e,r){i(r,t.foreign_key,r[t.foreign_key],t.relatedModel)});break;case"has_one:through:alias":o.forEach(t.pivot,function(e,r){a(n[e],t.alias,r,t.relatedModel)});break;case"has_one:foreign_key:alias":o.forEach(n,function(e,r){a(r,t.alias,r[t.foreign_key],t.relatedModel)});break;case"has_one:foreign_key":o.forEach(n,function(e,r){a(r,t.foreign_key,r[t.foreign_key],t.relatedModel)});break;default:throw new Error("Unknown relationship type: "+t.type)}return n}function i(e,r,n,t){var i;e[r]=[];for(var a=0,o=n.length;o>a;a+=1)i=t[n[a]],e[r].push(i)}function a(e,r,n,t){e[r]=t[n]}var o=n(1),l=n(14);e.exports=t},function(e,r,n){"use strict";function t(e,r){var n,t=f(o.copy(r),e);switch(l(e,o.copy(r)),n=t.model,t.type){case"has_many:through:alias":o.forEach(n,function(e){delete n[e][t.alias]});break;case"has_many:foreign_key:alias":o.forEach(n,function(e,r){delete r[t.alias]});break;case"has_many:foreign_key":o.forEach(n,function(e){i(n[e],t.foreign_key,t.relatedModel)});break;case"has_one:through:alias":o.forEach(n,function(e){n[e][t.alias]=t.pivot[e]});break;case"has_one:foreign_key:alias":o.forEach(n,function(e,r){a(r,t.foreign_key,t.relatedModel),delete r[t.alias]});break;case"has_one:foreign_key":o.forEach(n,function(e,r){a(r,t.foreign_key,t.relatedModel)});break;default:throw new Error("Unknown relationship type: "+t.type)}return n}function i(e,r,n){var t,i;Array.isArray(e[r])&&0!==e[r].length&&(i=[],e[r].forEach(function(e){t=o.keyOf(n,e),t&&i.push(t)}),e[r]=i)}function a(e,r,n){e[r]=o.keyOf(n,e[r])}var o=n(1),l=n(15),f=n(14);e.exports=t},function(e,r,n){"use strict";function t(e,r){if(null==e)return!1;var n=e.model,t=e.references,a=(e.type||"has_one",e.foreign_key),o=e.alias,l=e.through;return r&&(n=i.get(r,n),t=i.get(r,t),l=i.get(r,l)),n&&t&&(a||l&&o)?!0:!1}var i=n(2);e.exports=t},function(e,r){"use strict";function n(e){return e.replace(/[#/]*/,"")}r.stripPointerPrefix=n},function(e,r,n){"use strict";function t(e,r){e=o(e);var n={valid:i(e,r),model:a.get(r,e.model),relatedModel:a.get(r,e.references),type:e.type||"has_one",foreign_key:e.foreign_key,pivot:a.get(r,e.through),alias:e.alias};if(n.valid===!1)return null;if(n.pivot&&n.alias&&"has_many"===n.type)n.type="has_many:through:alias",n.foreign_key=null;else if(n.pivot&&n.alias)n.type="has_one:through:alias",n.foreign_key=null;else if(n.foreign_key&&n.alias&&"has_many"===n.type)n.type="has_many:foreign_key:alias",n.pivot=null;else if(n.foreign_key&&"has_many"===n.type)n.type="has_many:foreign_key",n.pivot=null;else if(n.foreign_key&&n.alias)n.type="has_one:foreign_key:alias",n.pivot=null;else{if(!n.foreign_key)throw new Error("Positive validated definition is invalid",e,r);n.type="has_one:foreign_key"}return n}var i=n(12),a=n(2),o=n(16);e.exports=t},function(e,r,n){"use strict";function t(e,r){var n,t=s(r,e);switch(n=t.model,t.type){case"has_many:through:alias":l.forEach(n,function(e,r){r[t.alias]&&l.forEach(r[t.alias],function(r){var n=f(t.relatedModel,r,e);o(t.relatedModel,n,r),a(t.pivot,e,n)})});break;case"has_many:foreign_key:alias":l.forEach(n,function(e,r){r[t.alias]&&l.forEach(r[t.alias],function(n){var i=f(t.relatedModel,n,e);o(t.relatedModel,i,n),a(r,t.foreign_key,i)})});break;case"has_many:foreign_key":break;case"has_one:through:alias":l.forEach(n,function(e){if(null!=n[e][t.alias]){var r=f(t.relatedModel,n[e][t.alias],e);o(t.relatedModel,r,n[e][t.alias]),i(t.pivot,e,r)}});break;case"has_one:foreign_key:alias":l.forEach(n,function(e){if(null!=n[e][t.alias]){var r=f(t.relatedModel,n[e][t.alias],e);o(t.relatedModel,r,n[e][t.alias]),i(n[e],t.foreign_key,r)}});break;case"has_one:foreign_key":l.forEach(n,function(e){if(null!=n[e][t.foreign_key]){var r=f(t.relatedModel,n[e][t.foreign_key],e);o(t.relatedModel,r,n[e][t.foreign_key])}});break;default:throw new Error("Unknown relationship type: "+t.type)}return n}function i(e,r,n){e[r]!==n&&(e[r]=n)}function a(e,r,n){Array.isArray(e[r])||(e[r]=l.asArray(e[r])),-1===e[r].indexOf(n)&&e[r].push(n)}function o(e,r,n){null==e[r]?e[r]=n:e[r]!==n}var l=n(1),f=n(17).getPrimaryKey,s=n(14);e.exports=t},function(e){function r(e){var r;if("string"==typeof e){if(r=e.split(" "),e={},r.forEach(function(r){var t;-1===r.indexOf(":")?e.model=r:(t=r.split(":"),n.indexOf(t[0])>-1?(e.type=t[0],e.references=t[1]):e[t[0]]=t[1])}),null==e.on&&null==e.as)throw new Error('"as:<alias>" or "on:<foreign_key>" missing in relationship definition');if(null==e.model)throw new Error("no model defined in relationship definition");if(null==e.type)throw new Error("no related model defined in relationship definition");e.alias=e.as,delete e.as,e.foreign_key=e.on,delete e.on}return e}var n=["has_one","has_many"];e.exports=r},function(e,r,n){"use strict";function t(e,r){for(var n=0,t=r;null!=e[t];)t=r+"-"+n,n+=1;return t}function i(e,r,n){var i=a.keyOf(e,r);return null==i&&(i=r[n],i&&null===e[i]||(i=n&&null==e[n]?n:t(e,n))),i}var a=n(1);r.generatePk=t,r.getPrimaryKey=i}]);